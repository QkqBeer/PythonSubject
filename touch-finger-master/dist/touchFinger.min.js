!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.touchFinger=e():t.touchFinger=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(u[n])return u[n].exports;var s=u[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var u={};return e.m=t,e.c=u,e.d=function(t,u,n){e.o(t,u)||Object.defineProperty(t,u,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var u=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(u,"a",u),u},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,u){t.exports=u(1)},function(t,e,u){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=u(2),a=function(){function t(t,e){for(var u=0;u<e.length;u++){var n=e[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,u,n){return u&&t(e.prototype,u),n&&t(e,n),e}}(),r=function(){function t(e,u){var a=this;n(this,t),this.triggerEvent=function(t){for(var e=arguments.length,u=Array(e>1?e-1:0),n=1;n<e;n++)u[n-1]=arguments[n];var s=a.options[t];"function"==typeof s&&s.apply(void 0,u)},this.handleTouchStart=function(t){if(t.touches){a.triggerEvent("touchStart",t,a.element),a.gestureStatus.startTime=Date.now(),a.gestureStatus.x1=t.touches[0].pageX,a.gestureStatus.y1=t.touches[0].pageY,a.gestureStatus.delta=a.gestureStatus.startTime-(a.gestureStatus.lastTime||a.gestureStatus.startTime),a.gestureStatus.lastTime=a.gestureStatus.startTime,null!==a.gestureStatus.preTapPosition.x&&(a.gestureStatus.isDoubleTap=a.gestureStatus.delta>0&&a.gestureStatus.delta<=250&&Math.abs(a.gestureStatus.preTapPosition.x-a.gestureStatus.x1)<30&&Math.abs(a.gestureStatus.preTapPosition.y-a.gestureStatus.y1)<30,a.gestureStatus.isDoubleTap&&clearTimeout(a.singleTapTimeout)),a.gestureStatus.preTapPosition.x=a.gestureStatus.x1,a.gestureStatus.preTapPosition.y=a.gestureStatus.y1;var e=a.gestureStatus.preV;if(t.touches.length>1){a._cancelLongTap(),a._cancelSingleTap();var u={x:t.touches[1].pageX-a.gestureStatus.x1,y:t.touches[1].pageY-a.gestureStatus.y1};e.x=u.x,e.y=u.y,a.gestureStatus.pinchStartLen=Object(s.b)(e),a.triggerEvent("multipointStart",t,a.element)}a.gestureStatus._preventTap=!1,a.longTapTimeout=setTimeout(function(){a.triggerEvent("longTap",t,a.element),a.gestureStatus._preventTap=!0},750)}},this.handleTouchMove=function(t){if(t.touches){a.gestureStatus.isDoubleTap=!1;var e=a.gestureStatus.preV,u=t.touches.length,n=t.touches[0].pageX,r=t.touches[0].pageY;if(u>1){var i=t.touches[1].pageX,o=t.touches[1].pageY,l={x:t.touches[1].pageX-n,y:t.touches[1].pageY-r};null!==e.x&&(a.gestureStatus.pinchStartLen>0&&(t.zoom=Object(s.b)(l)/a.gestureStatus.pinchStartLen,a.triggerEvent("pinch",t,a.element)),t.angle=Object(s.d)(l,e),a.triggerEvent("rotate",t,a.element)),e.x=l.x,e.y=l.y,null!==a.gestureStatus.x2&&null!==a.sx2?(t.deltaX=(n-a.gestureStatus.x2+i-a.sx2)/2,t.deltaY=(r-a.gestureStatus.y2+o-a.sy2)/2):(t.deltaX=0,t.deltaY=0),a.triggerEvent("twoFingerPressMove",t,a.element),a.sx2=i,a.sy2=o}else{if(null!==a.gestureStatus.x2){t.deltaX=n-a.gestureStatus.x2,t.deltaY=r-a.gestureStatus.y2;var c=Math.abs(a.gestureStatus.x1-a.gestureStatus.x2),g=Math.abs(a.gestureStatus.y1-a.gestureStatus.y2);(c>10||g>10)&&(a.gestureStatus._preventTap=!0)}else t.deltaX=0,t.deltaY=0;var h=Object(s.c)(t.deltaX,t.deltaY);t.pressMoveDirection=Object(s.a)(h),a.triggerEvent("pressMove",t,a.element)}a.triggerEvent("touchMove",t,a.element),a._cancelLongTap(),a.gestureStatus.x2=n,a.gestureStatus.y2=r,u>1&&t.preventDefault()}},this.handleTouchEnd=function(t){t.changedTouches&&(a._cancelLongTap(),t.touches.length<2&&(a.triggerEvent("multipointEnd",t,a.element),a.sx2=a.sy2=null),a.gestureStatus.x2&&Math.abs(a.gestureStatus.x1-a.gestureStatus.x2)>30||a.gestureStatus.y2&&Math.abs(a.gestureStatus.y1-a.gestureStatus.y2)>30?(t.direction=a._swipeDirection(a.gestureStatus.x1,a.gestureStatus.x2,a.gestureStatus.y1,a.gestureStatus.y2),a.swipeTimeout=setTimeout(function(){a.triggerEvent("swipe",t,a.element)},0)):(a.tapTimeout=setTimeout(function(){a.gestureStatus._preventTap||a.triggerEvent("tap",t,a.element),a.gestureStatus.isDoubleTap&&(a.triggerEvent("doubleTap",t,a.element),a.gestureStatus.isDoubleTap=!1)},0),a.gestureStatus.isDoubleTap||(a.singleTapTimeout=setTimeout(function(){a.triggerEvent("singleTap",t,a.element)},250))),a.triggerEvent("touchEnd",t,a.element),a.gestureStatus.preV.x=0,a.gestureStatus.preV.y=0,a.gestureStatus.zoom=1,a.gestureStatus.pinchStartLen=null,a.gestureStatus.x1=a.gestureStatus.x2=a.gestureStatus.y1=a.gestureStatus.y2=null)},this.cancelAll=function(){a.gestureStatus._preventTap=!0,clearTimeout(a.singleTapTimeout),clearTimeout(a.tapTimeout),clearTimeout(a.longTapTimeout),clearTimeout(a.swipeTimeout)},this.handleTouchCancel=function(t){a.cancelAll(),a.triggerEvent("touchCancel",t,a.element)},this.on=function(t,e){a[t]&&a[t].add(e)},this.off=function(t,e){a[t]&&a[t].del(e)},this.element=e,this.element.addEventListener("touchstart",this.handleTouchStart,!1),this.element.addEventListener("touchmove",this.handleTouchMove,!1),this.element.addEventListener("touchend",this.handleTouchEnd,!1),this.element.addEventListener("touchcancel",this.handleTouchCancel,!1),this.options=u,this.gestureStatus={delta:null,last:null,now:null,tapTimeout:null,singleTapTimeout:null,longTapTimeout:null,swipeTimeout:null,x1:null,x2:null,y1:null,y2:null,preV:{x:null,y:null},preTapPosition:{x:null,y:null}}}return a(t,[{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(t,e,u,n){return Math.abs(t-e)>=Math.abs(u-n)?t-e>0?"Left":"Right":u-n>0?"Up":"Down"}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.handleTouchStart),this.element.removeEventListener("touchmove",this.handleTouchMove),this.element.removeEventListener("touchend",this.handleTouchEnd),this.element.removeEventListener("touchcancel",this.handleTouchCancel),delete this.gestureStatus,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,null}}]),t}();e.default=r},function(t,e,u){"use strict";function n(t,e){return 0===t&&0===e?c:Math.abs(t)>=Math.abs(e)?t<0?g:h:e<0?p:T}function s(t){var e=void 0;switch(t){case c:break;case g:e="left";break;case h:e="right";break;case p:e="up";break;case T:e="down"}return e}function a(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function r(t,e){return t.x*e.x+t.y*e.y}function i(t,e){var u=a(t)*a(e);if(0===u)return 0;var n=r(t,e)/u;return n>1&&(n=1),Math.acos(n)}function o(t,e){return t.x*e.y-e.x*t.y}function l(t,e){var u=i(t,e);return o(t,e)>0&&(u*=-1),180*u/Math.PI}e.c=n,e.a=s,e.b=a,e.d=l;var c=1,g=2,h=4,p=8,T=16}]).default});